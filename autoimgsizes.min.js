(function(e,l,r){var n,p;if(l.getElementsByClassName){var b,q=/^img$/i,c=1;e.devicePixelRatio&&(c=e.devicePixelRatio);var h=function(e){var k=l.getElementsByClassName(b.autoImgClass),h=k.length;if(h)for(var m=0;m<h;m++)if(k[m])a:{var a=k[m],d=e;if(q.test(a.nodeName)){if(d)a.setAttribute("src","");else if(null!=a.getAttribute("src")&&0<a.getAttribute("src").length)break a;if(a.getAttribute(b.srcAttr)&&0==a.getAttribute(b.srcAttr).indexOf("http")&&a.getAttribute(b.originSizeAttr)){d=a.getAttribute(b.originSizeAttr).split("x");p=n=void 0;n=parseFloat(d[0]);p=parseFloat(d[1]);var f=a.parentNode.getBoundingClientRect();if(0!=f.width){var d=f.width*c,f=f.height*c,g="?imageMogr2/";"auto"==a.getAttribute(b.autoAttr)?g+="thumbnail/"+d+"x":(g=n/p>d/f?g+("thumbnail/x"+f):g+("thumbnail/"+d+"x"),g+="/gravity/Center/crop/"+d+"x"+f,a.style.height=f/c+"px");a.setAttribute("src",a.getAttribute(b.srcAttr)+g);a.style.width=d/c+"px"}}}}};(function(){var c,k={srcAttr:"data-src",autoAttr:"data-auto",originSizeAttr:"data-origin-size",autoImgClass:"autoImgSizes"};b=e.autoImgSizeConfig||e.autoImgSizeConfig||{};for(c in k)c in b||(b[c]=k[c]);h(!1);e.addEventListener("resize",function(){h(!0)},!0);e.addEventListener("scroll",function(){h(!1)},!0);l.documentElement.addEventListener("DOMNodeInserted",function(){h(!1)},!0);l.documentElement.addEventListener("DOMAttrModified",function(){h(!1)},!0)})()}})(window,document);