!function(t,e){"use strict";if(e.getElementsByClassName){var i,r=/^img$/i,n=1;t.devicePixelRatio&&(n=t.devicePixelRatio);var a,d=function(t,e){if(r.test(t.nodeName)){if(!e||"auto"==t.getAttribute(i.autoAttr)&&"true"!=t.getAttribute(i.heightAttr)){if(null!=t.getAttribute("src")&&t.getAttribute("src").length>0)return}else t.setAttribute("src","");if(t.getAttribute(i.srcAttr)&&0==t.getAttribute(i.srcAttr).indexOf("http")&&t.getAttribute(i.originSizeAttr)){var d=t.getAttribute(i.originSizeAttr).split("x");a={},a.width=parseFloat(d[0]),a.height=parseFloat(d[1]);var o=t.parentNode.getBoundingClientRect();if(0!=o.width){var h={width:o.width*n,height:o.height*n},g="?imageMogr2/",s="auto"==t.getAttribute(i.autoAttr);s?(g+="thumbnail/"+h.width+"x",t.style.width="100%","true"==t.getAttribute(i.heightAttr)&&(t.style.height=h.height/n+"px")):(g+=a.width/a.height>h.width/h.height?"thumbnail/x"+h.height:"thumbnail/"+h.width+"x",g+="/gravity/Center/crop/"+h.width+"x"+h.height,t.style.width=h.width/n+"px",t.style.height=h.height/n+"px"),t.setAttribute("src",t.getAttribute(i.srcAttr)+g)}}}},o=function(t){var r=e.getElementsByClassName(i.autoImgClass),n=r.length;if(n)for(var a=0;n>a;a++)r[a]&&d(r[a],t)},h=function(){o(!1)},g=function(){o(!0)};!function(){var r,n={srcAttr:"data-src",autoAttr:"data-auto",originSizeAttr:"data-origin-size",autoImgClass:"autoImgSizes",heightAttr:"data-height"};i=t.autoImgSizeConfig||t.autoImgSizeConfig||{};for(r in n)r in i||(i[r]=n[r]);/d$|^c/.test(e.readyState)?h():(t.addEventListener("load",h,!0),e.addEventListener("DOMContentLoaded",h)),["focus","mouseover","click","load"].forEach(function(t){e.addEventListener(t,h,!0)}),t.addEventListener("resize",g,!0),t.addEventListener("scroll",h,!0),e.documentElement.addEventListener("DOMNodeInserted",h,!0),e.documentElement.addEventListener("DOMAttrModified",h,!0)}()}}(window,document);